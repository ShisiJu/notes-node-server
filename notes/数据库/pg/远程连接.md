# 连接虚拟机中的postgresql数据库

## 确保防火墙不会拦截

这个问题，我没有出现。

但是，看其它文章里有人出现了。

如果出现，打开window的防火墙关闭就好。
当然，也有可能是 linux防火墙需要关闭了。

## 主机与虚拟机之间能ping通

要确保主机和虚拟机之间的通信。

```bash
# windows下
ipconfig 


```



## 开启连接配置

pg数据库要想数据库连接



需要在配置文件中开启远程连接
`/etc/postgresql/9.6/main` 

下的

`postgresql.conf ` 

改为监听所有ip

listening_address: '*'

　　pg_hba.conf：配置对数据库的访问权限；

　　postgresql.conf：配置PostgreSQL数据库服务器的相应的参数。

pg_hba.conf

中修改

host  all    all    192.168.1.0/24    trust

32 -> 192.168.1.1/32 表示必须是来自这个IP地址的访问才合法；
　　　　　 24 -> 192.168.1.0/24 表示只要来自192.168.1.0 ~ 192.168.1.255的都合法；
　　　　　 16 -> 192.168.0.0/16 表示只要来自192.168.0.0 ~ 192.168.255.255的都合法；
　　　　　 8   -> 192.0.0.0/16 表示只要来自192.0.0.0 ~ 192.255.255.255的都合法；
　　　　　 0   -> 0.0.0.0/0 表示全部IP地址都合法，/左边的IP地址随便了只要是合法的IP地址即可



/etc/init.d/postgresql restart